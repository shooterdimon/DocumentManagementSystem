***Великий електронний словник української мови (ВЕСУМ)***
----------------------------------------------------------

Основою більшості засобів NLP є словник тегів частин мови (англ. POS tag dictionary). Такий словник містить дані про відмінювання слів та має відповідні теги для кожної форми слова. Скажімо, слово різав матиме базову форму (лему) різатий теги дієслова минулого часу, однини, чоловічого роду.
Така інформація дає змогу шукати слово за будь-якою його формою, а також проводити аналіз речень: перевіряти, чи узгоджені між собою слова в реченні, фільтрувати слова за родом, відмінком тощо.

Словник:
-     налічує понад 285 тис. лем і постійно поповнюється
-     містить інформацію про відмінювання слів
-     подає нерекомендовані слова (активні дієприкметники, невдалі кальки тощо) та заміну для них
-     охоплює абревіатури та скорочення
-     містить інформацію про деякі альтернативні правописні варіанти (дає змогу аналізувати тексти, написані не за чинним правописом, адже низка медій, авторів, видавництв свідомо дотримуються альтернативних правописних правил)
-     має велику базу власних імен (зокрема українських імен, по батькові та прізвищ, неукраїнських імен та прізвищ, українських та закордонних топонімів тощо)
-     синхронізований з КОАТУУ, зокрема містить назви, що з’явилися внаслідок декомунізації
-     має дуже компактну систему позначення відмінювання та тегів для слів, завдяки чому легко додавати нові слова, групувати наявні тощо
-     містить інформацію про деякі рідкісні та розмовні форми, наприклад, нестягнені форми прикметників (гарная), та розмовні інфінітиви (поїхать); щоправда, більшість таких форм вимкнено за уставою, оскільки вони мають обмежену форму застосування й часто створюють зайву омонімію (однак за потреби їх можна ввімкнути)
-     є відкритим проектом (розміщений на github), тож кожен може долучитися до вдосконалення та використовувати його у своїй роботі.

***Структура словника***
------------------------

Словник містить три основні частини:
1. правила зміни суфіксів у парадигмах
2. слова з прапорцями парадигм та додаткових властивостей
3. код генерування повних парадигм із сирцевої інформації (1 та 2)

***Орфографічні словники***
---------------------------

Орфографічні словники є найпростішим застосуванням. Вони використовують лише наявність словоформи у словнику. ВЕСУМ є сирцем для українських словників перевірки орфографії системи hunspell, який широко використовується у відкритій ОС Linux, а також у багатьох інших програмних засобах, зокрема у словниках для браузера Firefox, офісних пакетів LibreOffice.org/OpenOffice.

***Повнотекстовий пошук***
--------------------------

Одним із найпопулярніших відкритих систем повнотекстового пошуку є Lucene.
Більшість модулів аналізу в Lucene для європейських мов використовують стемери. Стемери працюють шляхом відкидання закінчень слів і зіставлення лише центральної, нефлексійної частини (основи). Це непогано працює для мов, що мають не надто розвинуту флексійну систему, але є значно гіршим розв’язком для східнослов’янських мов, що мають велику кількість відмінкових форм. Ситуацію з українською мовою ускладнює й наявність численних чергувань в корені слів та варіантних форм.
Український аналізатор в Lucene використовує лематизатор зі словником у форматі morfologik, що базується на скінченних автоматах (finite-state automata). Цей засіб є надзвичайно ефективним як із погляду швидкості пошуку, так і з погляду використання пам’яті — якщо нормалізована за лемою текстова версія українського словника займає 185 МБ, то у форматі morfologik — лише 1,8 МБ.
Позаяк ми ще раніше мали український словник для morfologik, який використовували в LanguageTool, лишалося тільки додати український модуль аналізу, прив’язати його до словника й доповнити його деякими допоміжними деталями: ігнорованими словами (stopwords), різними формами апострофів, ігноруванням наголосу тощо.
Український аналізатор побачив світ у версії Lucene 6.2.0 (і як наслідок в ElasticSearch та інших двигунах, що використовують Lucene). Нещодавноу фонді Wikimedia закінчили тестуватий ухвалили використовувати цей український модуль для пошуку в українській Вікіпедії (до цього для української користувалися російським повнотекстовим пошуком, з відповідними результатами).
Одним із недоліків пошуку за словниковим лематизатором є те, що лематизація не працює, якщо слово відсутнє в словнику. Це може значно знизити ефективність пошуку для деяких типів текстів. Скажімо, українська Вікіпедія має надвисоку частку власних назв у статтях. Додати навіть більшість з них у словник неможливо, тож потрібно шукати інший розв’язок. Один зі шляхів усунення цієї проблеми — додати модуль динамічної стемізації/лематизації для невідомих слів. Проект ВЕСУМ охоплює майже всі варіанти логіки відмінювання українських слів (понад 4000), тож можна було б побудувати спрощену логіку, що генерує потенційні леми.

***Лематизація***
-----------------

Окрім повнотекстового пошуку лематизація також використовується для побудови деяких моделей NLP, наприклад, word embeddings. Так, свого часу ми використовували лематизовану версію великого корпусу українських текстів для побудови векторів слів (word vectors) для проекту lang-uk. Через те, що українська мова має складну морфологію та велику кількість словоформ, було доволі складно побудувати ефективну модель, котра б ефективно узагальнювала ці словоформи та надавала б їм схожі вектори. До того ж, через величезну кількість словоформ словник корпусу виходив доволі великим, й дуже багато словоформ було зафіксовано лише один чи два рази. Використання лематизації допомогло скоротити словник та побудувати на лематизованому тексті корпусу якісну модель, що показала гарні результати протягом внутрішнього тестування.

***Морфологічний аналіз***
--------------------------

Оскільки ВЕСУМ містить теги частин мови, за допомогою цього словника можна, наприклад, визначити, що “копали” — це дієслово недоконаного виду, минулого часу, множини, з лемою “копати”. У тегах ВЕСУМ це виглядає так:
>     копали копати verb:imperf:past:p
Маючи таку інформацію, можна будувати досить складні правила аналізу граматичних зв’язків між словами в реченні. Одним з перших програмних засобів, що працюють з такими тегами, є український модуль програмного засобу перевірки граматики та стилю LanguageTool.
Інше застосування морфологічного аналізу — побудова текстового корпусу 

***Інші застосування:***
-----------------------

*     укладання тлумачних, термінологічних, перекладних та інших типів словників (зокрема пошук прикладів вживання)
*     різноманітні мовознавчі дослідження
*     дослідження і розробки у галузі комп’ютерної лінгвістики (зокрема побудова моделей мови, отримання статистичної інформації)
*     довідкові функції та редагування

***Граматичний аналіз***
------------------------

Щоб якісно аналізувати текст, окрім словника тегів потрібно мати програмні засоби, що спочатку готують текст для тегування, потім його тегують, і проводять післяоброблювання.
Хоча ВЕСУМ є відкритим, загальним словником і має потенційно необмежену сферу застосування, він народився з потреб українського модуля LanguageTool, тож у процесі аналізу текстів української мови він найкраще працює вкупі з аналізатором LanguageTool.
Розвиток ВЕСУМ-ай українського аналізатора в LT вже декілька років ідуть разом в ітераційній послідовності. Зміни в словнику проходять тести LT, що дає змогу побачити, як кожна зміна слова або тегу впливає на аналіз. Своєю чергою, зміни в аналізаторі проходять регресійні тести на 100-мільйонному архіві українських текстів, зібраних із друкованих медій, української літератури та інших джерел.
Отже, що словник, що аналізатор LT взоруються на академічні матеріали та підходи, однак мають виразне практичне спрямування.

***Розбиття на речення***
-------------------------

Аналіз тексту починається з розбиття на речення. На перший погляд це досить просте завдання — знайти крапку (або знаки оклику і питання) і позначити межу речення. Насправді ж такий простий підхід дає досить велику кількість помилок через те, що крапки часто використовують у скороченнях, ініціалах, датах тощо. Ця проблема властива більшості європейських мов, йцілком задовільно її розв’язати неможливо, бо в багатьох таких випадках розрізнити вживання крапки можна лише на семантичному рівні. А проте якість розбиття можна довести до достатньо якісного рівня, якщо проаналізувати й використати логіку вживання крапки для скорочень та ініціалів. Український модуль у LanguageTool має близько 30 правил для таких випадків, щоб запобігти зайвим розбиттям.

***Розбиття на слова***
-----------------------

Після того, як ми отримали речення їх потрібно розбити на слова (лексеми). Тут теж є свої тонкощі: скажімо, кома може бути розділовим знаком або частиною десяткового дробу. Групи тисяч у числах часто розділяють пробілами. Дати та час записують через крапку й двокрапку. Ініціали часто пишуть разом із прізвищем, а дужки можуть бути частиною скорочення, наприклад,ОУН(б). Також в реальних текстах вживають кілька різних символів на позначення апострофа.
Модуль українського лексемування (токенізації) в LanguageTool містить близько 20 регулярних виразів для виловлювання таких складних випадків.

***Тегування***
---------------

Якщо під рукою є добрий словник тегів (як-от ВЕСУМ) і код застосування (як-от morfologik), завдання тегування слів у своїй основі є досить тривіальним. Однак як і на попередніх стадіях розбиття, тут є свої моменти. Одна з найбільших проблем — це складні слова. Хай який великий не є словник, у нього годі вмістити всі можливі слова, що пишуться через дефіс. Кількість таких комбінацій величезна, що зробить словник непомірно великим і незастосовним. А наявність у текстах цифрово-абеткових прикметників, наприклад,133-тя, показує, що тегування, базоване винятково на словнику, має серйозні обмеження.
Отже, потрібна логіка тегування таких складних слів, яких немає в словнику, але які утворюються зі слів, яким уже присвоєно теги. Наприклад, якщо протегувати обидві частини у слові ”ракет-носіїв” то можна спробувати протегувати й ціле складне слово. Звісно, тут, як і в більшості проблем алгоритмізації природної мови, є маса нюансів.Скажімо, що робити, якщо ліва частина позначає істоту, а права — ні? Чи належатиме таке складне слово до категорії істот? Виявляється, що в багатьох випадках, проаналізувавши наявні тексти й побудувавши допоміжні словники, можна з високою ймовірністю правильно розв’язати цю задачу.
Як показав досвід (після тривалих експериментів та набитих ґуль), модуль динамічного тегування LanguageTool може тегувати десятки тисяч таких не охоплених словниками слів із достатньою для практичного використання точністю.

***Зняття омонімії***
---------------------

Одним із найскладніших моментів алгоритмізації оброблювання природної мови є наявність омонімії. Більшість слів, протегованих за словником, матимуть більше одного набору тегів.Скажімо, слово “формасиній” може відповідати називному, знахідному або кличному відмінку. Велика частина таких омонімічних випадків матиме більше ніж одну лему. Наприклад, слово “біль” може бути як ч.р. (відчуття), так і ж.р. (білі нитки), також трапляється міжчастиномовна омонімія: “за” може вживатися як прийменник або як прислівник.
Можна створити деякі правила, що допоможуть автоматично зняти омонімію лише для невеликої частини слів, навіть часткове зняття може значно підвищити якість аналізу.
Наразі LanguageTool має лише декілька десятків правил автоматичного зняття омонімії. Вдосконалення цього підмодуля — один із пріоритетних напрямків розвитку.

***Застосування аналізу для перевірки граматики***
--------------------------------------------------

Спроможність тегувати слова уможливлює перевірку на граматичну коректність і виловлювання хибних конструкцій. Хоча граматичну, пунктуаційну та стилістичну перевірку можна провадити й без словника, наприклад, виловлюючи конструкції регулярними виразами (є ПЗ для української мови, що ґрунтуються на цьому підході), оперування лемами та інформацією про відмінювання піднімає аналіз на якісно інший рівень.	

***Синтезатор словоформ***
--------------------------

Ще одне цікаве застосування тегової інформації — отримання словоформ слова за заданим відмінком, часом тощо. Ця можливість широко використовується в LanguageTool для генерування правильних словоформ замість помилкових. 

***Першоджерела:***
-------------------

1. https://r2u.org.ua/articles/vesum
2. https://github.com/brown-uk/dict_uk/blob/master/doc/announcement.md
3. https://dou.ua/lenta/articles/dou-projector-dict-uk/
